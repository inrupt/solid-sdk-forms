{"version":3,"sources":["../src/index.js"],"names":["parse","message","parser","parserOpts","undefined","defaultOpts","parsed","objValue","srcValue","raw"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;kBAEeA,K;;;AAEf,SAAeA,KAAf,CAAqBC,OAArB,EAA8BC,wCAA9B,EAA6CC,aAAaC,SAA1D;AAAA;AAAA;AACsB;AAAA;AAAfC,eAAe,WAAD,CAA6BF,UAA5B;AACfG,UADe,GACNJ,OACdD,OADc,EAEd,uBAAU,EAAV,EAAcI,WAAd,EAA2BF,UAA3B,EAAuC,CAACI,QAAD,EAAWC,QAAX,KAAwB;AAC9D,SAAI,qBAAQD,QAAR,CAAJ,EAAuB,OAAOC,QAAP;AACvB,KAFD,CAFc,CADM;;AAOrBF,WAAOG,GAAP,GAAaR,OAAb;AACA,mBAAOK,MAAP;AARqB;AAAA;AAAA;AAAA;AADtB;AAAA","file":"index.js","sourcesContent":["import {sync} from 'conventional-commits-parser';\nimport defaultChangelogOpts from 'conventional-changelog-angular';\nimport {isArray, mergeWith} from 'lodash';\n\nexport default parse;\n\nasync function parse(message, parser = sync, parserOpts = undefined) {\n\tconst defaultOpts = (await defaultChangelogOpts).parserOpts;\n\tconst parsed = parser(\n\t\tmessage,\n\t\tmergeWith({}, defaultOpts, parserOpts, (objValue, srcValue) => {\n\t\t\tif (isArray(objValue)) return srcValue;\n\t\t})\n\t);\n\tparsed.raw = message;\n\treturn parsed;\n}\n"]}